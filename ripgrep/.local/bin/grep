#!/usr/bin/env nu

$env.config.display_errors.termination_signal = false

def --wrapped main [...rest] {
        if (is-terminal --stdout) or ($env.CME_NVIM? == "1") {
                rg --vimgrep ...$rest
        } else {
                ^/usr/bin/grep ...$rest
        }
}
